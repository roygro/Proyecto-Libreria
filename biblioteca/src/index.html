
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>El rincón del libro</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

<!-- BOOTSTRAP -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


  <script src="https://kit.fontawesome.com/753c451a35.js" crossorigin="anonymous"></script>

  <!-- Api HERE-->
  <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js" type="text/javascript" charset="utf-8"></script>

  <!-- <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">-->

  <!--ICONOS-->
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>


  
</head>
<body>
  <title>El rincón del libro</title>


  


  <app-root>



  </app-root>


  


  
    <!-- Botón de Facebook Login 
    <fb:login-button 
        scope="public_profile,email" 
        onlogin="checkLoginState();">
    </fb:login-button>-->

    <!-- SDK de Facebook 
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/es_ES/sdk.js"></script>
    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId      : '855144493464566', // Reemplaza con tu App ID
                cookie     : true,
                xfbml      : true,
                version    : 'v16.0' // Usa la versión actual
            });

            FB.AppEvents.logPageView();   
        };

        function checkLoginState() {
            FB.getLoginStatus(function(response) {
                statusChangeCallback(response);
            });
        }

        function statusChangeCallback(response) {
            if (response.status === 'connected') {
                // El usuario está autenticado
                obtenerDatosUsuario();
            } else {
                // El usuario no está autenticado
                console.log('Usuario no autenticado');
            }
        }

        function obtenerDatosUsuario() {
            FB.api('/me', {fields: 'name,email'}, function(response) {
                console.log('Nombre: ' + response.name);
                console.log('Correo: ' + response.email);
                // Aquí puedes enviar los datos al backend para crear o iniciar sesión en el usuario
            });
        }
    </script>-->
<!-- Botón para iniciar sesión con Facebook -->
<button onclick="loginWithFacebook()">Iniciar Sesión con Facebook</button>

<!-- SDK de Facebook -->
<script>
    window.fbAsyncInit = function() {
        FB.init({
            appId      : '426499817148883', // Reemplaza con tu App ID
            cookie     : true,
            xfbml      : true,
            version    : 'v21.0' // Cambia a la versión que deseas utilizar
        });

        // No es necesario verificar el estado de inicio de sesión al cargar
        // FB.getLoginStatus(function(response) {
        //     statusChangeCallback(response);
        // });

        FB.AppEvents.logPageView();   
    };

    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    // Callback para manejar el cambio de estado
    function statusChangeCallback(response) {
        console.log('FB Login Status:', response);
        // Verifica si el usuario está conectado
        if (response.status === 'connected') {
            console.log('Usuario conectado');

            // Accede a authResponse
            const authResponse = response.authResponse;
            const accessToken = authResponse.accessToken;
            const expiresIn = authResponse.expiresIn;
            const signedRequest = authResponse.signedRequest;
            const userID = authResponse.userID;

            console.log('Access Token:', accessToken);
            console.log('Expires In:', expiresIn);
            console.log('Signed Request:', signedRequest);
            console.log('User ID:', userID);

            // Aquí puedes hacer algo con el accessToken, como realizar llamadas a la API
        } else {
            console.log('Usuario no conectado');
        }
    }

    // Función para iniciar sesión con Facebook
    function loginWithFacebook() {
        FB.login(function(response) {
            statusChangeCallback(response);
        }, {scope: 'public_profile,email'});
    }
</script>


<!-- Footer -->
<footer class="bg-dark text-white py-4 mt-auto">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <h5>El rincón del libro</h5>
        <p>Tu fuente de libros favoritos y más. Explora nuestra colección y encuentra tu próxima lectura.</p>
      </div>
      <div class="col-md-6 text-md-end">
        <a href="#" class="text-white me-2"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="text-white me-2"><i class="fab fa-twitter"></i></a>
        <a href="#" class="text-white me-2"><i class="fab fa-instagram"></i></a>
        <a href="#" class="text-white me-2"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
  </div>
  <div class="text-center mt-3">
    <p class="mb-0">&copy; 2024 El rincón del libro. Todos los derechos reservados.</p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-sx6mAs3yLZ2LZ5P5JntF6fhM8nU7a9nCDGoS+2d8+Jw8KT8c2cGHmhf8SvjNCEJ" crossorigin="anonymous"></script>


</body>
</html>
